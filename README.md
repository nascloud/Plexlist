# Plex 歌单导入工具

## 1. 项目简介

这是一个基于 Tkinter 的图形化桌面应用，旨在帮助用户轻松地将**网易云音乐**或**QQ音乐**的歌单提取出来，并导入到自己的 Plex 媒体服务器中。

本工具通过模糊匹配算法，尽力在您的 Plex 音乐库中找到对应的歌曲，并能将无法匹配的曲目记录下来以便后续处理。

## 2. 主要功能

*   **多平台支持**：支持从网易云音乐和QQ音乐的歌单链接或ID提取歌曲列表。
*   **图形化界面**：提供简单直观的用户界面，方便操作。
*   **歌单管理**：提取后可预览歌曲列表，并支持删除单曲或清空整个列表。
*   **智能导入Plex**：
    *   可选择**创建新歌单**或**更新/覆盖**Plex中的现有歌单。
    *   利用模糊匹配技术（`thefuzz`库）提高歌曲在Plex库中的匹配成功率。
    *   自动保存未匹配成功的歌曲列表到 `logs` 目录下的 `.txt` 文件中，方便追溯。
*   **配置持久化**：自动保存您的Plex服务器地址和Token，免去重复输入。

## 3. 安装与运行

### 步骤 1: 安装依赖

本项目依赖于几个第三方库。您可以通过 pip 一键安装所有必需的依赖：

```bash
pip install plexapi python-levenshtein requests thefuzz
```
*注意：`python-levenshtein` 库可以极大地提升模糊匹配的性能，建议安装。*

### 步骤 2: 运行应用

安装完依赖后，直接运行 `gui.py` 文件即可启动程序：

```bash
python gui.py
```

程序启动后，请按照界面提示进行操作：
1.  选择歌单来源（网易云/QQ音乐）。
2.  输入歌单的分享链接或纯数字ID。
3.  点击“提取歌单”。
4.  在Plex设置区域填入您的服务器URL和Token。
5.  选择导入模式，然后点击“导入到Plex”。

## 4. 项目结构

```
.
├── gui.py              # 主程序文件，负责GUI界面和用户交互
├── logic.py            # 核心逻辑模块，处理歌单获取、Plex交互和歌曲匹配
├── pyproject.toml      # 项目配置文件，定义了项目名称、版本和依赖项
├── plex_config.json    # (自动生成) 用于存储Plex服务器配置
├── logs/               # (自动生成) 用于存放未匹配歌曲的日志文件
└── README.md           # 本文档
```

*   `gui.py`: 应用的入口，包含了所有界面的创建和事件处理。
*   `logic.py`: 封装了所有与外部服务（网易云API, QQ音乐API, Plex API）通信的复杂逻辑，以及歌曲匹配算法。